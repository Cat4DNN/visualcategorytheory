{% extends "section.html" %}

{% block header %}
  {% set current_section = "gallery" %}
  {{ macros_header::header(current_section=current_section)}}
{% endblock header %}

{% block content %}
<div class="wrap container" role="document">
  <div class="content">
    <div class="row justify-content-center">
      <div class="col-md-12 col-lg-12 col-xxl-11">
        <article class="gallery-section">
          <div class="page-header text-center mb-5">
            <h1>{{ section.title }}</h1>
            {% if section.description %}
              <p class="lead text-muted">{{ section.description }}</p>
            {% endif %}
          </div>

          {{ section.content | safe }}

          {% if section.extra.gallery_items %}
          <div class="gallery-grid">
            <div class="row g-4">
              {% for image in section.extra.gallery_items %}
              <div class="col-md-6 col-lg-4">
                <div class="gallery-card">
                  <a href="{{ image.full }}" class="gallery-link" data-lightbox="gallery" data-title="{{ image.title }}">
                    <div class="gallery-image-wrapper">
                      <img src="{{ image.thumb | default(value=image.full) }}" alt="{{ image.title }}" class="gallery-image">
                      <div class="gallery-overlay">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <circle cx="11" cy="11" r="8"></circle>
                          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                          <line x1="11" y1="8" x2="11" y2="14"></line>
                          <line x1="8" y1="11" x2="14" y2="11"></line>
                        </svg>
                      </div>
                    </div>
                  </a>
                  <div class="gallery-caption">
                    <h6>{{ image.title }}</h6>
                    {% if image.description %}
                    <p class="small text-muted mb-0">{{ image.description }}</p>
                    {% endif %}
                    {% if image.category %}
                    <span class="badge bg-secondary mt-2">{{ image.category }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>
          </div>
          {% endif %}

          {% if section.extra.categories %}
          <div class="gallery-categories mt-5">
            <h3 class="text-center mb-4">Browse by Category</h3>
            <div class="d-flex flex-wrap justify-content-center gap-2">
              {% for cat in section.extra.categories %}
              <button class="btn btn-outline-primary gallery-filter" data-category="{{ cat }}">{{ cat }}</button>
              {% endfor %}
              <button class="btn btn-primary gallery-filter active" data-category="all">All</button>
            </div>
          </div>
          {% endif %}

        </article>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
